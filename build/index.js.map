{"version":3,"file":"index.js","mappings":"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","sources":["webpack://collection-form/./src/App.js","webpack://collection-form/./src/components/CollectionForm.jsx","webpack://collection-form/./node_modules/bootstrap/dist/css/bootstrap.css","webpack://collection-form/./src/style/main.scss","webpack://collection-form/external window \"React\"","webpack://collection-form/external window [\"wp\",\"element\"]","webpack://collection-form/webpack/bootstrap","webpack://collection-form/webpack/runtime/compat get default export","webpack://collection-form/webpack/runtime/define property getters","webpack://collection-form/webpack/runtime/hasOwnProperty shorthand","webpack://collection-form/webpack/runtime/make namespace object","webpack://collection-form/./src/index.js"],"sourcesContent":["import React from 'react';\nimport CollectionForm from './components/CollectionForm';\n\nconst App = () => {\n    return (\n        <>\n            <CollectionForm />\n        </>\n);\n}\n\nexport default App;","import React from 'react'\nconst CollectionForm = () => {\n\n    const empty_client_obj = {\n        name: null,\n        statusVat: null,\n        regon: null,\n        krs: null,\n        workingAddress: null,\n        registrationLegalDate: null\n    }\n\n    const [client_nip, setClientNip] = React.useState('');\n    const [client_data, setClientData] = React.useState(empty_client_obj)\n    const [client_message, setClientMessage] = React.useState('')\n\n\n    const [debtor_nip, setDebtorNip] = React.useState('');\n    const [debtor_data, setDebtorData] = React.useState(empty_client_obj)\n    const [debtor_message, setDebtorMessage] = React.useState('')\n\n\n    function getNipDetail(nip) {\n        return fetch(`https://wl-api.mf.gov.pl/api/search/nip/${nip}?date=2023-08-29`)\n                .then(async response => {\n                    return await response;\n                });\n    }\n\n    async function checkResponse(response){\n        const response_json = await response.json();\n        if (!response.ok){\n            return [empty_client_obj, response_json.message];\n        } else {\n            return [response_json.result.subject, ''];\n        }\n\n    }\n\n\n    function checkNip(nip) {\n        const nip_length = nip.length\n\n        switch (nip_length) {\n            case (0):\n                return [false, \"Pole 'NIP' nie może być puste.\"];\n            case (10):\n                return [true, \"\"];\n            default:\n                return [false, \"Pole 'NIP' ma nieprawidłową długość. Wymagane 10 znaków.\"];\n        }\n    }\n    async function getClientNipDetail(nip) {\n\n        const [is_valid_nip, nip_message] = checkNip(nip);\n\n        if (is_valid_nip) {\n            const [subject, message] = await getNipDetail(nip).then(response => checkResponse(response));\n            setClientData(subject);\n        } else {\n            setClientData(empty_client_obj);\n        }\n\n        setClientMessage(nip_message);\n\n    }\n\n    async function getDebtorNipDetail(nip) {\n        const [subject, message] = await getNipDetail(nip).then(response => checkResponse(response));\n        setDebtorData(subject);\n        setDebtorMessage(message);\n    }\n\n    React.useEffect(() => {\n        getClientNipDetail(client_nip);\n    }, [client_nip]);\n\n    React.useEffect(() => {\n        getDebtorNipDetail(debtor_nip);\n    }, [debtor_nip]);\n\n    function detailView(obj) {\n        return (<>\n            <p>{obj.name}</p>\n            <p>REGON: {obj.regon}</p>\n            <p>KRS: {obj.krs}</p>\n            <p>Adres: {obj.workingAddress}</p>\n            <p>Data rozpoczęcia działalności {obj.registrationLegalDate}</p>\n        </>);\n    }\n\n    return (\n        <div className='row'>\n            <div className='col'>\n                <label>Twój NIP</label>\n                <input\n                    type='text'\n                    value={client_nip}\n                    onChange={(e) => setClientNip(e.target.value)}\n                />\n                <div>\n                    {client_message !== ''\n                        ? client_message\n                        : client_data !== null\n                            ? detailView(client_data)\n                            : `Nie znaleziono nip: ${client_nip}`\n                    }\n                </div>\n            </div>\n            <div className='col'>\n                <label>NIP Dłużnika</label>\n                <input\n                    type='text'\n                    value={debtor_nip}\n                    onChange={(e) => setDebtorNip(e.target.value)}\n                />\n                <div>\n                    {debtor_message !== ''\n                        ? debtor_message\n                        : debtor_data !== null\n                            ? detailView(debtor_data)\n                            : `Nie znaleziono nip: ${debtor_nip}`\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default CollectionForm;","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import App from \"./App\";\nimport { render } from '@wordpress/element';\nimport 'bootstrap/dist/css/bootstrap.css'\n\n/**\n * Import the stylesheet for the plugin.\n */\nimport './style/main.scss';\n\n// Render the App component into the DOM\nrender(<App />, document.getElementById('collection-form'));"],"names":["React","CollectionForm","App","createElement","Fragment","empty_client_obj","name","statusVat","regon","krs","workingAddress","registrationLegalDate","client_nip","setClientNip","useState","client_data","setClientData","client_message","setClientMessage","debtor_nip","setDebtorNip","debtor_data","setDebtorData","debtor_message","setDebtorMessage","getNipDetail","nip","fetch","then","response","checkResponse","response_json","json","ok","message","result","subject","checkNip","nip_length","length","getClientNipDetail","is_valid_nip","nip_message","getDebtorNipDetail","useEffect","detailView","obj","className","type","value","onChange","e","target","render","document","getElementById"],"sourceRoot":""}